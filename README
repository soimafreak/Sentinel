#################################################################
#
#   Sentinel - Self healing application monitor
#
#   Author:         Matthew Smith <soimafreak@gmail.com>
#   Site:           http://sentinel.soimafreak.co.uk/
#   Repo:           https://github.com/soimafreak/Sentinel
#
#
#   Copyright:      Copyright (C) 2012, Matthew Smith 
#   License:
#   This program is free software: you can redistribute it and/or modify
#   it under the terms of the GNU General Public License as published by
#   the Free Software Foundation, either version 3 of the License, or
#   (at your option) any later version.
#
#   This program is distributed in the hope that it will be useful,
#   but WITHOUT ANY WARRANTY; without even the implied warranty of
#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#   GNU General Public License for more details.
#
#   You should have received a copy of the GNU General Public License
#   along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
#################################################################

#
#   ABOUT
#

Sentinel was concieved as an idea after contemplating some "quick fix" work carried out
on some production systems to ensure the application remained operational as much as possible.
The concept was orignially discussed on http://soimasysadmin.wordpress.com/2012/04/04/self-healing-systems/ 
and more information about the future of the application can be found on the site above.

#
#   Versioning
#

Formal releases will be of x.y.z format following http://semver.org/

Development format: x.y.z.a.b
For coding purposes the revision after x.y.z is a.b where: 
A is a major re-factor of code or development mile stone
B is a addation, subtraction or modification to existing functionality

0.1.0.0.0   -   This is the initial comit to the GitHub with minimal functionality as described below
0.1.0.0.1   -   Added some Application memory metrics
0.1.0.0.2   -   Added URL Grab / search
0.1.0.0.3   -   Added process kill for dead / zombie processes
0.1.0.1.0   -   Major re-work of code layout, introduction of gemspec / gem build, rework of revision numbers

#
#   Features
#

Below features are needed for 0.1.0 release:

* Basic check of a *nix process state
** Is there a process running?
** Is it in a running or sleep state (or other healthy state)?
* Basic check of system health
** Check disk usage with DF
** If the disk usage is high, Log the offending disk info to the system log
** Check memory usage of system
* Basic Application health
** Perform basic URL grab / scrape for search string
* Basic actions
** If process Zombied / Dead, start it
** If diskspace is 100% utilised, check list of "safe" to delete files in affected file system and delete
** If application check fails X times restart application
* Run as a cron job
* Log output
* Configuration
** Take options from CLI where appropriate
** Load options from Configuration file
* Code
** Appropriate structure for development
** Provide application in gem format
** Write tests for each function

#
#   Coding standard
#

* Whitespace - 4 spaces for indenting, for vim use the following in ~/.vimrc:
set tabstop=4
set shiftwidth=4
set expandtab
set smarttab

#
# Thanks
#

http://angrez.blogspot.co.uk/2006/12/log4r-usage-and-examples.html - Helped me get up and workign with Log4r

#
#   Notes
#

- In Addition to the features above It is becomming increasingly necessary to start considering some better
structures for storing the scores in.
- Also need to start splitting out the code into a bit of a structure or something... Not sure what this
will involve or best way toa chieve but something is needed...
- I have changed the versioning structure of the product as above
- I have changed the structure of the project to better fit with the aim of writing gem files
- I have re-versioned the initial commits to match with new versioning method

